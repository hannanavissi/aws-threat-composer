(self.webpackChunkthreat_composer=self.webpackChunkthreat_composer||[]).push([[7725],{"./src/components/generic/BaseDiagramInfo/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>generic_BaseDiagramInfo});var components_button=__webpack_require__("../../node_modules/@cloudscape-design/components/button/index.js"),container=__webpack_require__("../../node_modules/@cloudscape-design/components/container/index.js"),header=__webpack_require__("../../node_modules/@cloudscape-design/components/header/index.js"),space_between=__webpack_require__("../../node_modules/@cloudscape-design/components/space-between/index.js"),react=__webpack_require__("../../node_modules/react/index.js");const styles_image=(0,__webpack_require__("../../node_modules/@emotion/react/dist/emotion-react.browser.esm.js").iv)({maxWidth:"1024px",width:"100%"});var form_field=__webpack_require__("../../node_modules/@cloudscape-design/components/form-field/index.js"),radio_group=__webpack_require__("../../node_modules/@cloudscape-design/components/radio-group/index.js"),browser_image_compression=__webpack_require__("../../node_modules/browser-image-compression/dist/browser-image-compression.mjs"),customTypes=__webpack_require__("./src/customTypes/index.ts");const utils_getBase64=file=>new Promise(((resolve,reject)=>{var reader=new FileReader;reader.readAsDataURL(file),reader.onload=function(){resolve(reader.result)},reader.onerror=function(error){reject(error)}}));var Input=__webpack_require__("./src/components/generic/Input/index.tsx"),FileUpload=__webpack_require__("./src/components/generic/FileUpload/index.tsx"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("../../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const ImageEdit=({value,onChange})=>{const isValueBase64String=value&&value.startsWith("data:"),[selectedFiles,setSelectedFiles]=(0,react.useState)([]),[inputValue,setInputValue]=(0,react.useState)(isValueBase64String?"":value),[imageSource,setImageSource]=(0,react.useState)(value?isValueBase64String?"file":"url":"no"),[image,setImage]=(0,react.useState)(isValueBase64String?value:"");(0,react.useEffect)((()=>{"no"===imageSource?onChange(""):"file"===imageSource?onChange(image):"url"===imageSource&&onChange(inputValue)}),[onChange,imageSource,image,inputValue]);const handleImageUpload=(0,react.useCallback)((async imageFile=>{const options={maxSizeMB:.5,maxWidthOrHeight:1024,useWebWorker:!0};try{const compressedFile=await(0,browser_image_compression.Z)(imageFile,options);return await utils_getBase64(compressedFile)}catch(error){return console.log(error),""}}),[]),handleChange=(0,react.useCallback)((async _selectedFiles=>{if(setSelectedFiles(_selectedFiles),_selectedFiles.length>0){const _image=await handleImageUpload(_selectedFiles[0]);setImage(_image||"")}}),[]);return(0,emotion_react_jsx_runtime_browser_esm.BX)(space_between.Z,{direction:"vertical",size:"s",children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(form_field.Z,{label:"Image source",children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(radio_group.Z,{onChange:({detail})=>setImageSource(detail.value),value:imageSource,items:[{value:"file",label:"From file upload"},{value:"url",label:"From url"},{value:"no",label:"No Image"}]})},"imageSource"),"file"===imageSource&&(0,emotion_react_jsx_runtime_browser_esm.BX)(space_between.Z,{direction:"vertical",size:"s",children:[image&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(header.Z,{variant:"h3",children:"Preview"},"header"),image&&(0,emotion_react_jsx_runtime_browser_esm.tZ)("img",{css:styles_image,src:image,alt:"Preview Diagram"},"image"),(0,emotion_react_jsx_runtime_browser_esm.tZ)(FileUpload.Z,{label:"Image Upload",accept:"image/png, image/gif, image/jpeg",files:selectedFiles,onChange:handleChange},"fileUpload")]}),"url"===imageSource&&(0,emotion_react_jsx_runtime_browser_esm.BX)(form_field.Z,{label:"Image Url",children:[inputValue&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(header.Z,{variant:"h3",children:"Preview"},"header"),inputValue&&(0,emotion_react_jsx_runtime_browser_esm.tZ)("img",{css:styles_image,src:inputValue,alt:"Preview Diagram"}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(Input.Z,{value:inputValue,onChange:event=>setInputValue(event.detail.value),validateData:customTypes.ImageUrlSchema.safeParse})]},"imageUrl")]})};ImageEdit.displayName="ImageEdit";const generic_ImageEdit=ImageEdit;try{ImageEdit.displayName="ImageEdit",ImageEdit.__docgenInfo={description:"",displayName:"ImageEdit",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/generic/ImageEdit/index.tsx#ImageEdit"]={docgenInfo:ImageEdit.__docgenInfo,name:"ImageEdit",path:"src/components/generic/ImageEdit/index.tsx#ImageEdit"})}catch(__react_docgen_typescript_loader_error){}var MarkdownEditor=__webpack_require__("./src/components/generic/MarkdownEditor/index.tsx"),MarkdownViewer=__webpack_require__("./src/components/generic/MarkdownViewer/index.tsx");const BaseDiagramInfo=({headerTitle,diagramTitle,entity,onConfirm,validateData,onEditModeChange})=>{const[editMode,setEditMode]=(0,react.useState)(!entity.description&&!entity.image),[image,setImage]=(0,react.useState)(""),[content,setContent]=(0,react.useState)("");(0,react.useEffect)((()=>{onEditModeChange?.(editMode)}),[editMode]);const handleSaveDiagramInfo=(0,react.useCallback)((()=>{onConfirm({image,description:content}),setEditMode(!1)}),[image,content,onConfirm]),handleEdit=(0,react.useCallback)((()=>{setContent(entity.description||""),setImage(entity.image||""),setEditMode(!0)}),[entity,setContent,setEditMode,setImage]),actions=(0,react.useMemo)((()=>editMode?(0,emotion_react_jsx_runtime_browser_esm.BX)(space_between.Z,{direction:"horizontal",size:"s",children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(components_button.Z,{onClick:()=>setEditMode(!1),children:"Cancel"},"cancelBtn"),(0,emotion_react_jsx_runtime_browser_esm.tZ)(components_button.Z,{variant:"primary",onClick:handleSaveDiagramInfo,children:"Confirm"},"confirmBtn")]}):(0,emotion_react_jsx_runtime_browser_esm.tZ)(components_button.Z,{onClick:handleEdit,children:"Edit"})),[editMode,handleSaveDiagramInfo,handleEdit,setEditMode]);return(0,emotion_react_jsx_runtime_browser_esm.tZ)(container.Z,{header:(0,emotion_react_jsx_runtime_browser_esm.tZ)(header.Z,{actions,children:headerTitle}),children:editMode?(0,emotion_react_jsx_runtime_browser_esm.BX)(space_between.Z,{direction:"vertical",size:"s",children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(MarkdownEditor.Z,{label:"Introduction",value:content,onChange:setContent,parentHeaderLevel:"h3",validateData}),(0,emotion_react_jsx_runtime_browser_esm.BX)(header.Z,{variant:"h3",children:[headerTitle," Diagram"]}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(generic_ImageEdit,{value:image,onChange:setImage})]}):(0,emotion_react_jsx_runtime_browser_esm.BX)(space_between.Z,{direction:"vertical",size:"s",children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(header.Z,{variant:"h3",children:"Introduction"},"diagramInfo"),(0,emotion_react_jsx_runtime_browser_esm.tZ)(MarkdownViewer.Z,{children:entity.description||""}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(header.Z,{variant:"h3",children:diagramTitle},"diagram"),entity.image&&(0,emotion_react_jsx_runtime_browser_esm.tZ)("img",{css:styles_image,src:entity.image,alt:diagramTitle})]})})};BaseDiagramInfo.displayName="BaseDiagramInfo";const generic_BaseDiagramInfo=BaseDiagramInfo;try{BaseDiagramInfo.displayName="BaseDiagramInfo",BaseDiagramInfo.__docgenInfo={description:"",displayName:"BaseDiagramInfo",props:{entity:{defaultValue:null,description:"",name:"entity",required:!0,type:{name:"{ image?: string | undefined; description?: string | undefined; }"}},headerTitle:{defaultValue:null,description:"",name:"headerTitle",required:!0,type:{name:"string"}},diagramTitle:{defaultValue:null,description:"",name:"diagramTitle",required:!0,type:{name:"string"}},onConfirm:{defaultValue:null,description:"",name:"onConfirm",required:!0,type:{name:"(info: { image?: string | undefined; description?: string | undefined; }) => void"}},validateData:{defaultValue:null,description:"",name:"validateData",required:!1,type:{name:"((newValue: string) => SafeParseReturnType<string, string>) | undefined"}},onEditModeChange:{defaultValue:null,description:"",name:"onEditModeChange",required:!1,type:{name:"((editMode: boolean) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/generic/BaseDiagramInfo/index.tsx#BaseDiagramInfo"]={docgenInfo:BaseDiagramInfo.__docgenInfo,name:"BaseDiagramInfo",path:"src/components/generic/BaseDiagramInfo/index.tsx#BaseDiagramInfo"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/generic/FileUpload/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>generic_FileUpload});var components_button=__webpack_require__("../../node_modules/@cloudscape-design/components/button/index.js"),form_field=__webpack_require__("../../node_modules/@cloudscape-design/components/form-field/index.js"),space_between=__webpack_require__("../../node_modules/@cloudscape-design/components/space-between/index.js"),react=__webpack_require__("../../node_modules/react/index.js"),status_indicator=__webpack_require__("../../node_modules/@cloudscape-design/components/status-indicator/index.js"),text_content=__webpack_require__("../../node_modules/@cloudscape-design/components/text-content/index.js");const utils_getDisplayLastModified=lastModified=>`Last modified: ${new Date(lastModified).toLocaleString()}`,utils_getDisplaySize=size=>{if(!size)return;const i=Math.floor(Math.log(size)/Math.log(1e3));return`Size: ${parseFloat((size/Math.pow(1e3,i)).toFixed(2))} ${["bytes","KB","MB","GB"][i]}`};var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");const FileTokenLabel=({name,size,lastModified})=>(0,jsx_runtime.jsxs)(space_between.Z,{direction:"horizontal",size:"xs",children:[(0,jsx_runtime.jsx)(status_indicator.Z,{type:"success"}),(0,jsx_runtime.jsx)(text_content.Z,{children:(0,jsx_runtime.jsxs)(space_between.Z,{direction:"vertical",size:"xxxs",children:[(0,jsx_runtime.jsx)("span",{children:(0,jsx_runtime.jsx)("b",{children:name})},"name"),(0,jsx_runtime.jsx)("span",{children:utils_getDisplaySize(size)},"size"),lastModified&&(0,jsx_runtime.jsx)("span",{children:utils_getDisplayLastModified(lastModified)},"lastModified")]})})]});FileTokenLabel.displayName="FileTokenLabel";const components_FileTokenLabel=FileTokenLabel;try{FileTokenLabel.displayName="FileTokenLabel",FileTokenLabel.__docgenInfo={description:"",displayName:"FileTokenLabel",props:{name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"number"}},lastModified:{defaultValue:null,description:"",name:"lastModified",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/generic/FileUpload/components/FileTokenLabel/index.tsx#FileTokenLabel"]={docgenInfo:FileTokenLabel.__docgenInfo,name:"FileTokenLabel",path:"src/components/generic/FileUpload/components/FileTokenLabel/index.tsx#FileTokenLabel"})}catch(__react_docgen_typescript_loader_error){}const FileUpload=({controlId,label,description,constraintText,secondaryControl,errorText,info,buttonText="Choose file",name,accept,files,onChange,...props})=>{const inputElement=(0,react.useRef)(null),footer=(0,react.useMemo)((()=>files&&0!==files.length?(0,jsx_runtime.jsx)(components_FileTokenLabel,{name:files[0].name,lastModified:files[0].lastModified,size:files[0].size}):null),[files]),handleFileSelectionButtonClick=(0,react.useCallback)((()=>{inputElement.current?.click()}),[]),handleFileSelectionChange=(0,react.useCallback)((event=>{const newFiles=[];if(event.target.files){const targetFiles=event.target.files,len=targetFiles.length;for(let i=0;i<len;i++){const file=targetFiles.item(i);file&&newFiles.push(file)}}onChange?.(newFiles)}),[files,onChange]);return(0,jsx_runtime.jsxs)(space_between.Z,{direction:"vertical",size:"m",children:[(0,jsx_runtime.jsxs)(form_field.Z,{...props,label,info,description,constraintText,secondaryControl,errorText,children:[(0,jsx_runtime.jsx)("input",{ref:inputElement,name,style:{display:"none"},type:"file",accept,onChange:handleFileSelectionChange}),(0,jsx_runtime.jsx)(components_button.Z,{iconName:"upload",onClick:handleFileSelectionButtonClick,children:buttonText})]}),footer]})};FileUpload.displayName="FileUpload";const generic_FileUpload=FileUpload;try{FileUpload.displayName="FileUpload",FileUpload.__docgenInfo={description:"",displayName:"FileUpload",props:{accept:{defaultValue:null,description:"",name:"accept",required:!1,type:{name:"string"}},buttonText:{defaultValue:{value:"Choose file"},description:"",name:"buttonText",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((files: File[]) => void)"}},files:{defaultValue:null,description:"",name:"files",required:!1,type:{name:"File[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/generic/FileUpload/index.tsx#FileUpload"]={docgenInfo:FileUpload.__docgenInfo,name:"FileUpload",path:"src/components/generic/FileUpload/index.tsx#FileUpload"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/generic/Input/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _cloudscape_design_components_form_field__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@cloudscape-design/components/form-field/index.js"),_cloudscape_design_components_input__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@cloudscape-design/components/input/index.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_hooks_useContentValidation__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/hooks/useContentValidation/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const Input=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((({value,onChange,validateData,...props},ref)=>{const{tempValue,errorText,handleChange}=(0,_hooks_useContentValidation__WEBPACK_IMPORTED_MODULE_1__.Z)(value,onChange,validateData);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_cloudscape_design_components_form_field__WEBPACK_IMPORTED_MODULE_3__.Z,{...props,errorText,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_cloudscape_design_components_input__WEBPACK_IMPORTED_MODULE_4__.Z,{...props,ref,value:tempValue,onChange:event=>handleChange(event)})})})),__WEBPACK_DEFAULT_EXPORT__=Input;try{Input.displayName="Input",Input.__docgenInfo={description:"",displayName:"Input",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"ForwardedRef<any>"}},validateData:{defaultValue:null,description:"",name:"validateData",required:!1,type:{name:"((newValue: string) => SafeParseReturnType<string, string>) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/generic/Input/index.tsx#Input"]={docgenInfo:Input.__docgenInfo,name:"Input",path:"src/components/generic/Input/index.tsx#Input"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/generic/MarkdownEditor/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _cloudscape_design_components_box__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@cloudscape-design/components/box/index.js"),_cloudscape_design_components_grid__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@cloudscape-design/components/grid/index.js"),_MarkdownViewer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/generic/MarkdownViewer/index.tsx"),_Textarea__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/generic/Textarea/index.tsx"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const parentHeaderLevelMapping={h1:"##",h2:"###",h3:"####",h4:"#####"},MarkdownEditor=({value,onChange,label,description,parentHeaderLevel,rows=20,validateData})=>(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.BX)(_cloudscape_design_components_grid__WEBPACK_IMPORTED_MODULE_3__.Z,{gridDefinition:[{colspan:{default:12,xs:6}},{colspan:{default:12,xs:6}}],children:[(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.tZ)(_Textarea__WEBPACK_IMPORTED_MODULE_1__.Z,{label,description,constraintText:`Styling with Markdown is supported. ${parentHeaderLevel?`Use ${parentHeaderLevelMapping[parentHeaderLevel]} as sub headers to match the rendered header level for this section`:""}\n      `,stretch:!0,value,onChange:event=>onChange(event.detail.value),rows,validateData}),(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.tZ)(_cloudscape_design_components_box__WEBPACK_IMPORTED_MODULE_4__.Z,{margin:"l",children:(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.tZ)(_MarkdownViewer__WEBPACK_IMPORTED_MODULE_0__.Z,{children:value})})]});MarkdownEditor.displayName="MarkdownEditor";const __WEBPACK_DEFAULT_EXPORT__=MarkdownEditor;try{MarkdownEditor.displayName="MarkdownEditor",MarkdownEditor.__docgenInfo={description:"",displayName:"MarkdownEditor",props:{onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},parentHeaderLevel:{defaultValue:null,description:"",name:"parentHeaderLevel",required:!1,type:{name:"enum",value:[{value:'"h1"'},{value:'"h2"'},{value:'"h3"'}]}},rows:{defaultValue:{value:"20"},description:"",name:"rows",required:!1,type:{name:"number"}},validateData:{defaultValue:null,description:"",name:"validateData",required:!1,type:{name:"((newValue: string) => SafeParseReturnType<string, string>) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/generic/MarkdownEditor/index.tsx#MarkdownEditor"]={docgenInfo:MarkdownEditor.__docgenInfo,name:"MarkdownEditor",path:"src/components/generic/MarkdownEditor/index.tsx#MarkdownEditor"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/generic/MarkdownViewer/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _cloudscape_design_components_icon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@cloudscape-design/components/icon/index.js"),_cloudscape_design_components_text_content__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@cloudscape-design/components/text-content/index.js"),_cloudscape_design_design_tokens__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@cloudscape-design/design-tokens/index.js"),_emotion_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),react_markdown__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/react-markdown/lib/react-markdown.js"),rehype_raw__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../node_modules/rehype-raw/index.js"),remark_frontmatter__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/remark-frontmatter/index.js"),remark_gfm__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/remark-gfm/index.js"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const externalPattern=/^((https?):\/\/)/,styles=(0,_emotion_react__WEBPACK_IMPORTED_MODULE_0__.iv)({"@media print":{color:"black !important"},"& img":{maxWidth:"1024px",width:"100%"},"& h1":{marginTop:`${_cloudscape_design_design_tokens__WEBPACK_IMPORTED_MODULE_1__._Kl} !important`,marginBottom:`${_cloudscape_design_design_tokens__WEBPACK_IMPORTED_MODULE_1__._Kl} !important`},"& h2":{marginTop:`${_cloudscape_design_design_tokens__WEBPACK_IMPORTED_MODULE_1__.OU} !important`,marginBottom:`${_cloudscape_design_design_tokens__WEBPACK_IMPORTED_MODULE_1__._Kl} !important`},"& h3":{marginTop:`${_cloudscape_design_design_tokens__WEBPACK_IMPORTED_MODULE_1__._Kl} !important`,marginBottom:`${_cloudscape_design_design_tokens__WEBPACK_IMPORTED_MODULE_1__._Kl} !important`},"& h4":{marginTop:`${_cloudscape_design_design_tokens__WEBPACK_IMPORTED_MODULE_1__._Kl} !important`,marginBottom:`${_cloudscape_design_design_tokens__WEBPACK_IMPORTED_MODULE_1__._Kl} !important`},"& table":{borderCollapse:"collapse"},"& tr":{borderTop:`1px solid ${_cloudscape_design_design_tokens__WEBPACK_IMPORTED_MODULE_1__.ZTU}`},"& th":{padding:"6px 13px",border:`1px solid ${_cloudscape_design_design_tokens__WEBPACK_IMPORTED_MODULE_1__.ZTU}`},"& td":{padding:"6px 13px",border:`1px solid ${_cloudscape_design_design_tokens__WEBPACK_IMPORTED_MODULE_1__.ZTU}`},"table tr:nth-of-type(2n)":{background:_cloudscape_design_design_tokens__WEBPACK_IMPORTED_MODULE_1__.TNs}}),components={a:props=>{if(props.href){return externalPattern.test(props.href)?(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.BX)("a",{href:props.href,target:"_blank",rel:"noreferrer noopener",children:[props.children," ",(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.tZ)(_cloudscape_design_components_icon__WEBPACK_IMPORTED_MODULE_3__.Z,{name:"external"})]}):(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.tZ)("a",{href:props.href,children:props.children})}return props.name?(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.tZ)("a",{name:props.name,children:props.children}):(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.tZ)(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.HY,{children:props.children})}},MarkdownViewer=({allowHtml=!1,children,...props})=>(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.tZ)("div",{css:styles,children:(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.tZ)(_cloudscape_design_components_text_content__WEBPACK_IMPORTED_MODULE_4__.Z,{...props,children:(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.tZ)(react_markdown__WEBPACK_IMPORTED_MODULE_5__.D,{remarkPlugins:[remark_gfm__WEBPACK_IMPORTED_MODULE_6__.Z,remark_frontmatter__WEBPACK_IMPORTED_MODULE_7__.Z],rehypePlugins:allowHtml?[rehype_raw__WEBPACK_IMPORTED_MODULE_8__.Z]:[],components,children})})});MarkdownViewer.displayName="MarkdownViewer";const __WEBPACK_DEFAULT_EXPORT__=MarkdownViewer;try{MarkdownViewer.displayName="MarkdownViewer",MarkdownViewer.__docgenInfo={description:"MarkdownViewer renders content with Markdown format.",displayName:"MarkdownViewer",props:{allowHtml:{defaultValue:{value:"false"},description:"",name:"allowHtml",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/generic/MarkdownViewer/index.tsx#MarkdownViewer"]={docgenInfo:MarkdownViewer.__docgenInfo,name:"MarkdownViewer",path:"src/components/generic/MarkdownViewer/index.tsx#MarkdownViewer"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/generic/Textarea/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _cloudscape_design_components_form_field__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@cloudscape-design/components/form-field/index.js"),_cloudscape_design_components_textarea__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@cloudscape-design/components/textarea/index.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_hooks_useContentValidation__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/hooks/useContentValidation/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const Textarea=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((({value,onChange,validateData,singleLine,...props},ref)=>{const{tempValue,errorText,handleChange}=(0,_hooks_useContentValidation__WEBPACK_IMPORTED_MODULE_1__.Z)(value,onChange,validateData),handleValueChange=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event=>handleChange(singleLine?{...event,detail:{...event.detail,value:event.detail.value.replace(/\n|\r/i," ")}}:event)),[singleLine,handleChange]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_cloudscape_design_components_form_field__WEBPACK_IMPORTED_MODULE_3__.Z,{...props,errorText,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_cloudscape_design_components_textarea__WEBPACK_IMPORTED_MODULE_4__.Z,{...props,ref,value:tempValue,onChange:handleValueChange})})})),__WEBPACK_DEFAULT_EXPORT__=Textarea;try{Textarea.displayName="Textarea",Textarea.__docgenInfo={description:"",displayName:"Textarea",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"ForwardedRef<any>"}},validateData:{defaultValue:null,description:"",name:"validateData",required:!1,type:{name:"((newValue: string) => SafeParseReturnType<string, string>) | undefined"}},singleLine:{defaultValue:null,description:"",name:"singleLine",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/generic/Textarea/index.tsx#Textarea"]={docgenInfo:Textarea.__docgenInfo,name:"Textarea",path:"src/components/generic/Textarea/index.tsx#Textarea"})}catch(__react_docgen_typescript_loader_error){}},"./src/hooks/useContentValidation/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_utils_sanitizeHtml__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/utils/sanitizeHtml/index.ts");const __WEBPACK_DEFAULT_EXPORT__=(value,onChange,validateData)=>{const[tempValue,setTempValue]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(value),[errorText,setErrorText]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("");(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{setTempValue(value),value||setErrorText("")}),[value]);return{tempValue,handleChange:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event=>{const newValue=event.detail.value;setTempValue(newValue);if((0,_utils_sanitizeHtml__WEBPACK_IMPORTED_MODULE_1__.Z)(newValue)===newValue){if(validateData){const validation=validateData(newValue);if(!validation.success)return void setErrorText(validation.error.issues.map((i=>i.message)).join("; "))}setErrorText(""),onChange?.(event)}else setErrorText("Html tags not supported")}),[setTempValue,setErrorText,onChange,validateData]),errorText}}},"./src/utils/sanitizeHtml/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var sanitize_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/sanitize-html/index.js"),sanitize_html__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(sanitize_html__WEBPACK_IMPORTED_MODULE_0__);const sanitizeHtml=data=>{if(data){if(Array.isArray(data))return data.map((d=>sanitizeHtml(d)));if("string"==typeof data)return sanitize_html__WEBPACK_IMPORTED_MODULE_0___default()(data,{allowedTags:[]});if("object"==typeof data)return Object.keys(data).reduce(((attrs,key)=>({...attrs,[key]:sanitizeHtml(data[key])})),{})}return data},__WEBPACK_DEFAULT_EXPORT__=sanitizeHtml},"?d84b":()=>{},"?e4b0":()=>{},"?7cbf":()=>{},"?df09":()=>{},"?67ab":()=>{}}]);