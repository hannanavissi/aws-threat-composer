"use strict";(self.webpackChunk_aws_threat_composer=self.webpackChunk_aws_threat_composer||[]).push([[2662],{"../../node_modules/@cloudscape-design/components/link/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/tslib/tslib.es6.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_internal_hooks_use_base_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@cloudscape-design/components/internal/hooks/use-base-component/index.js"),_internal_utils_apply_display_name__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@cloudscape-design/components/internal/utils/apply-display-name.js"),_internal__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@cloudscape-design/components/link/internal.js");const Link=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(((_a,ref)=>{var{variant="secondary",fontSize="body-m",color="normal",external=!1}=_a,props=(0,tslib__WEBPACK_IMPORTED_MODULE_1__._T)(_a,["variant","fontSize","color","external"]);const baseComponentProps=(0,_internal_hooks_use_base_component__WEBPACK_IMPORTED_MODULE_2__.Z)("Link");return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal__WEBPACK_IMPORTED_MODULE_3__.Z,Object.assign({variant,fontSize,color,external},props,baseComponentProps,{ref}))}));(0,_internal_utils_apply_display_name__WEBPACK_IMPORTED_MODULE_4__.b)(Link,"Link");const __WEBPACK_DEFAULT_EXPORT__=Link},"./src/containers/MitigationPacks/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>index_stories});var react=__webpack_require__("../../node_modules/react/index.js"),box=__webpack_require__("../../node_modules/@cloudscape-design/components/box/index.js"),components_link=__webpack_require__("../../node_modules/@cloudscape-design/components/link/index.js"),space_between=__webpack_require__("../../node_modules/@cloudscape-design/components/space-between/index.js"),container=__webpack_require__("../../node_modules/@cloudscape-design/components/container/index.js"),header=__webpack_require__("../../node_modules/@cloudscape-design/components/header/index.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");const GeneralInfo=()=>(0,jsx_runtime.jsx)(container.Z,{header:(0,jsx_runtime.jsx)(header.Z,{variant:"h2",description:"Short description",children:"Mitigation Packs"}),children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."});GeneralInfo.displayName="GeneralInfo";const components_GeneralInfo=GeneralInfo;var MitigationPacksContext=__webpack_require__("./src/contexts/MitigationPacksContext/index.tsx"),Table=__webpack_require__("./src/components/generic/Table/index.tsx");const MitigationPacks=({getMitigationPackLinkHref})=>{const{mitigationPackUsage,mitigationPacks}=(0,MitigationPacksContext.D)(),colDef=(0,react.useMemo)((()=>[{id:"id",minWidth:100,header:"Id",cell:data=>(0,jsx_runtime.jsx)(components_link.Z,{href:getMitigationPackLinkHref?.(data.id),children:data.id}),sortingField:"id",isRowHeader:!0},{id:"name",minWidth:120,header:"Name",cell:data=>data.name,sortingField:"name"},{id:"description",minWidth:200,header:"Description",cell:data=>(0,jsx_runtime.jsx)(box.Z,{children:data.description}),sortingField:"description"},{id:"countMitigations",header:"Total mitigations",cell:data=>data.mitigations?.length},{id:"countReferencedMitigations",header:"Referenced mitigations",cell:data=>mitigationPackUsage[data.id]&&Object.keys(mitigationPackUsage[data.id]).length||0}]),[mitigationPackUsage,getMitigationPackLinkHref]);return(0,jsx_runtime.jsxs)(space_between.Z,{direction:"vertical",size:"s",children:[(0,jsx_runtime.jsx)(components_GeneralInfo,{}),(0,jsx_runtime.jsx)(Table.ZP,{columnDefinitions:colDef,header:"Mitigation packs",items:mitigationPacks,disableRowSelect:!0,wrapLines:!0})]})};MitigationPacks.displayName="MitigationPacks";const workspaces_MitigationPacks=MitigationPacks;try{MitigationPacks.displayName="MitigationPacks",MitigationPacks.__docgenInfo={description:"",displayName:"MitigationPacks",props:{getMitigationPackLinkHref:{defaultValue:null,description:"",name:"getMitigationPackLinkHref",required:!1,type:{name:"((id: string) => string)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/workspaces/MitigationPacks/index.tsx#MitigationPacks"]={docgenInfo:MitigationPacks.__docgenInfo,name:"MitigationPacks",path:"src/components/workspaces/MitigationPacks/index.tsx#MitigationPacks"})}catch(__react_docgen_typescript_loader_error){}var WorkspaceContextAggregator=__webpack_require__("./src/contexts/WorkspaceContextAggregator/index.tsx");const MitigationPacks_MitigationPacks=({workspaceId})=>(0,jsx_runtime.jsx)(WorkspaceContextAggregator.Z,{requiredGlobalSetupContext:!0,workspaceId:workspaceId||null,composerMode:"Full",children:(0,jsx_runtime.jsx)(workspaces_MitigationPacks,{})});MitigationPacks_MitigationPacks.displayName="MitigationPacks";const containers_MitigationPacks=MitigationPacks_MitigationPacks;try{MitigationPacks_MitigationPacks.displayName="MitigationPacks",MitigationPacks_MitigationPacks.__docgenInfo={description:"",displayName:"MitigationPacks",props:{workspaceId:{defaultValue:null,description:"",name:"workspaceId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/MitigationPacks/index.tsx#MitigationPacks"]={docgenInfo:MitigationPacks_MitigationPacks.__docgenInfo,name:"MitigationPacks",path:"src/containers/MitigationPacks/index.tsx#MitigationPacks"})}catch(__react_docgen_typescript_loader_error){}const index_stories={title:"fullMode/MitigationPacks",component:containers_MitigationPacks},Default={};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{}",...Default.parameters?.docs?.source}}};const __namedExportsOrder=["Default"]},"./src/components/generic/Table/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ZP:()=>generic_Table});var collection_preferences=__webpack_require__("../../node_modules/@cloudscape-design/components/collection-preferences/index.js"),react=__webpack_require__("../../node_modules/react/index.js"),mjs=__webpack_require__("../../node_modules/@cloudscape-design/collection-hooks/dist/mjs/index.js"),components_button=__webpack_require__("../../node_modules/@cloudscape-design/components/button/index.js"),pagination=__webpack_require__("../../node_modules/@cloudscape-design/components/pagination/index.js"),table=__webpack_require__("../../node_modules/@cloudscape-design/components/table/index.js"),text_filter=__webpack_require__("../../node_modules/@cloudscape-design/components/text-filter/index.js");const config_getAriaLabels=(trackBy="id")=>({selectionGroupLabel:"Items selection",allItemsSelectionLabel:({selectedItems})=>`${selectedItems.length} ${1===selectedItems.length?"item":"items"} selected`,itemSelectionLabel:({selectedItems},item)=>{const isItemSelected=selectedItems.filter((i=>i[trackBy]===item[trackBy])).length;return`${item.name} is ${isItemSelected?"":"not"} selected`}}),DEFAULT_PAGE_SIZE_OPTIONS=[{value:10,label:"10 rows"},{value:30,label:"30 rows"},{value:50,label:"50 rows"}],DEFAULT_PAGINATION_LABELS={nextPageLabel:"Next page",previousPageLabel:"Previous page",pageLabel:pageNumber=>`Page ${pageNumber} of all pages`};var box=__webpack_require__("../../node_modules/@cloudscape-design/components/box/index.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");const EmptyState=({title,subtitle,action})=>(0,jsx_runtime.jsxs)(box.Z,{textAlign:"center",color:"inherit",children:[(0,jsx_runtime.jsx)(box.Z,{variant:"strong",textAlign:"center",color:"inherit",children:title}),(0,jsx_runtime.jsx)(box.Z,{variant:"p",padding:{bottom:"s"},color:"inherit",children:subtitle}),action]});EmptyState.displayName="EmptyState";const components_EmptyState=EmptyState;try{EmptyState.displayName="EmptyState",EmptyState.__docgenInfo={description:"",displayName:"EmptyState",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},subtitle:{defaultValue:null,description:"",name:"subtitle",required:!0,type:{name:"string"}},action:{defaultValue:null,description:"",name:"action",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/generic/Table/components/EmptyState/index.tsx#EmptyState"]={docgenInfo:EmptyState.__docgenInfo,name:"EmptyState",path:"src/components/generic/Table/components/EmptyState/index.tsx#EmptyState"})}catch(__react_docgen_typescript_loader_error){}var header=__webpack_require__("../../node_modules/@cloudscape-design/components/header/index.js");const CloudscapeHeaderType=(0,react.createElement)(header.Z).type,Header=({selectedItemsLength,allItemsLength,children,actions,info,description,variant})=>{const customHeader=(0,react.isValidElement)(children)&&children.type===CloudscapeHeaderType,counter=(0,react.useMemo)((()=>allItemsLength?selectedItemsLength?`(${selectedItemsLength}/${allItemsLength})`:`(${allItemsLength})`:void 0),[allItemsLength,selectedItemsLength]);return customHeader?children:(0,jsx_runtime.jsx)(header.Z,{counter,info,actions,description,variant,children})},components_Header=Header;try{Header.displayName="Header",Header.__docgenInfo={description:"",displayName:"Header",props:{actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"ReactNode"}},info:{defaultValue:null,description:"",name:"info",required:!1,type:{name:"ReactNode"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"h1"'},{value:'"h2"'},{value:'"h3"'},{value:'"awsui-h1-sticky"'}]}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"ReactNode"}},allItemsLength:{defaultValue:null,description:"",name:"allItemsLength",required:!1,type:{name:"number"}},selectedItemsLength:{defaultValue:null,description:"",name:"selectedItemsLength",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/generic/Table/components/Header/index.tsx#Header"]={docgenInfo:Header.__docgenInfo,name:"Header",path:"src/components/generic/Table/components/Header/index.tsx#Header"})}catch(__react_docgen_typescript_loader_error){}const FullDataTable=({ariaLabels,columnDefinitions,items:allItems,disablePagination=!1,pagination:paginationComponent,disableSettings=!1,preferences:collectionPreferenceComponent,disableFilters=!1,disableRowSelect=!1,selectionType="multi",filter:filterComponent,selectedItems=[],header,trackBy="id",collectionPreferences,onSelectionChange,defaultPageIndex,...props})=>{const{items,actions,collectionProps,filterProps,paginationProps}=(0,mjs.K)(allItems,{filtering:{empty:(0,jsx_runtime.jsx)(components_EmptyState,{title:"No items",subtitle:"No items to display."}),noMatch:(0,jsx_runtime.jsx)(components_EmptyState,{title:"No matches",subtitle:"We can’t find a match.",action:(0,jsx_runtime.jsx)(components_button.Z,{onClick:()=>actions.setFiltering(""),children:"Clear filter"})})},pagination:{pageSize:collectionPreferences.pageSize,defaultPage:defaultPageIndex},sorting:{defaultState:{sortingColumn:columnDefinitions[0]}},selection:{defaultSelectedItems:selectedItems,trackBy}});(0,react.useEffect)((()=>{actions.setSelectedItems(selectedItems)}),[selectedItems,paginationProps.currentPageIndex,filterProps.filteringText]);const collectionPropsOnSelectionChange=collectionProps.onSelectionChange,handleSelectionChange=(0,react.useCallback)((event=>{onSelectionChange?.(event),collectionPropsOnSelectionChange?.(event)}),[onSelectionChange,collectionPropsOnSelectionChange]);return(0,jsx_runtime.jsx)(table.Z,{trackBy,loadingText:"Loading",visibleColumns:collectionPreferences.visibleContent,wrapLines:collectionPreferences.wrapLines,stripedRows:collectionPreferences.stripedRows,...props,...collectionProps,onSelectionChange:handleSelectionChange,selectionType:!disableRowSelect&&selectionType||void 0,ariaLabels:ariaLabels||config_getAriaLabels(),columnDefinitions,items:items||[],pagination:!disablePagination&&(paginationComponent??(0,jsx_runtime.jsx)(pagination.Z,{...paginationProps,ariaLabels:DEFAULT_PAGINATION_LABELS})),preferences:collectionPreferenceComponent,filter:!disableFilters&&(filterComponent??(0,jsx_runtime.jsx)(text_filter.Z,{...filterProps,filteringPlaceholder:"Search",filteringAriaLabel:"Filter table content"})),header:header&&(0,jsx_runtime.jsx)(components_Header,{actions:props.actions,info:props.info,variant:props.headerVariant,description:props.description,allItemsLength:allItems.length,selectedItemsLength:collectionProps?.selectedItems?.length,children:header})})};FullDataTable.displayName="FullDataTable";const components_FullDataTable=FullDataTable;try{FullDataTable.displayName="FullDataTable",FullDataTable.__docgenInfo={description:"",displayName:"FullDataTable",props:{disablePagination:{defaultValue:{value:"false"},description:"Disable pagination",name:"disablePagination",required:!1,type:{name:"boolean"}},disableSettings:{defaultValue:{value:"false"},description:"Disable preference toolbar",name:"disableSettings",required:!1,type:{name:"boolean"}},disableFilters:{defaultValue:{value:"false"},description:"Disable search filters",name:"disableFilters",required:!1,type:{name:"boolean"}},disableRowSelect:{defaultValue:{value:"false"},description:"Disable row select",name:"disableRowSelect",required:!1,type:{name:"boolean"}},collectionPreferencesProps:{defaultValue:null,description:"Options for page size in collection preferences.",name:"collectionPreferencesProps",required:!1,type:{name:"Partial<CollectionPreferencesProps<any>>"}},defaultPageSize:{defaultValue:null,description:"The default number of rows on any given page",name:"defaultPageSize",required:!1,type:{name:"number"}},defaultPageIndex:{defaultValue:null,description:"The default index of the page that should be displayed",name:"defaultPageIndex",required:!1,type:{name:"number"}},header:{defaultValue:null,description:"The heading text (together with actions, info and description props to form a Table header) <br/>\nor the Cloudscape header component.",name:"header",required:!1,type:{name:"ReactNode"}},headerVariant:{defaultValue:null,description:"The variant of the table header.",name:"headerVariant",required:!1,type:{name:"enum",value:[{value:'"h1"'},{value:'"h2"'},{value:'"h3"'},{value:'"awsui-h1-sticky"'}]}},collectionPreferences:{defaultValue:null,description:"",name:"collectionPreferences",required:!0,type:{name:"Preferences<any>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/generic/Table/components/FullDataTable/index.tsx#FullDataTable"]={docgenInfo:FullDataTable.__docgenInfo,name:"FullDataTable",path:"src/components/generic/Table/components/FullDataTable/index.tsx#FullDataTable"})}catch(__react_docgen_typescript_loader_error){}const Table=({disableSettings,preferences:collectionPreferenceComponent,...props})=>{const[preferences,setPreferences]=(0,react.useState)({pageSize:props.defaultPageSize,visibleContent:props.columnDefinitions.map((cd=>cd.id||""))}),visibleContentOptions=(0,react.useMemo)((()=>[{label:"Main properties",options:props.columnDefinitions.map((cd=>({id:cd.id||"",label:("string"==typeof cd.header?cd.header:cd.id)||""})))}]),[props.columnDefinitions]),handlePreferenceChange=(0,react.useCallback)((({detail})=>{setPreferences(detail)}),[]),preferenceComponent=(0,react.useMemo)((()=>{if(!disableSettings)return collectionPreferenceComponent||(0,jsx_runtime.jsx)(collection_preferences.Z,{title:"Preferences",confirmLabel:"Confirm",cancelLabel:"Cancel",pageSizePreference:{title:"Page size",options:DEFAULT_PAGE_SIZE_OPTIONS},wrapLinesPreference:{label:"Wrap lines",description:"Check to see all the text and wrap the lines"},stripedRowsPreference:{label:"Striped rows",description:"Check to add alternating shaded rows"},visibleContentPreference:{title:"Select visible columns",options:visibleContentOptions},preferences,onConfirm:handlePreferenceChange,...props.collectionPreferencesProps})}),[disableSettings,preferences,props.collectionPreferencesProps,collectionPreferenceComponent,visibleContentOptions,handlePreferenceChange]);return(0,jsx_runtime.jsx)(components_FullDataTable,{...props,collectionPreferences:preferences,preferences:preferenceComponent})};Table.displayName="Table";const generic_Table=Table;try{Table.displayName="Table",Table.__docgenInfo={description:"A table presents data in a two-dimensional format, arranged in columns and rows in a rectangular form.",displayName:"Table",props:{disablePagination:{defaultValue:null,description:"Disable pagination",name:"disablePagination",required:!1,type:{name:"boolean"}},disableSettings:{defaultValue:null,description:"Disable preference toolbar",name:"disableSettings",required:!1,type:{name:"boolean"}},disableFilters:{defaultValue:null,description:"Disable search filters",name:"disableFilters",required:!1,type:{name:"boolean"}},disableRowSelect:{defaultValue:null,description:"Disable row select",name:"disableRowSelect",required:!1,type:{name:"boolean"}},collectionPreferencesProps:{defaultValue:null,description:"Options for page size in collection preferences.",name:"collectionPreferencesProps",required:!1,type:{name:"Partial<CollectionPreferencesProps<any>>"}},defaultPageSize:{defaultValue:null,description:"The default number of rows on any given page",name:"defaultPageSize",required:!1,type:{name:"number"}},defaultPageIndex:{defaultValue:null,description:"The default index of the page that should be displayed",name:"defaultPageIndex",required:!1,type:{name:"number"}},header:{defaultValue:null,description:"The heading text (together with actions, info and description props to form a Table header) <br/>\nor the Cloudscape header component.",name:"header",required:!1,type:{name:"ReactNode"}},headerVariant:{defaultValue:null,description:"The variant of the table header.",name:"headerVariant",required:!1,type:{name:"enum",value:[{value:'"h1"'},{value:'"h2"'},{value:'"h3"'},{value:'"awsui-h1-sticky"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/generic/Table/index.tsx#Table"]={docgenInfo:Table.__docgenInfo,name:"Table",path:"src/components/generic/Table/index.tsx#Table"})}catch(__react_docgen_typescript_loader_error){}try{DEFAULT_TRACK_BY.displayName="DEFAULT_TRACK_BY",DEFAULT_TRACK_BY.__docgenInfo={description:'*******************************************************************************************************************\nCopyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Apache License, Version 2.0 (the "License").\nYou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n  http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*******************************************************************************************************************',displayName:"DEFAULT_TRACK_BY",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/generic/Table/index.tsx#DEFAULT_TRACK_BY"]={docgenInfo:DEFAULT_TRACK_BY.__docgenInfo,name:"DEFAULT_TRACK_BY",path:"src/components/generic/Table/index.tsx#DEFAULT_TRACK_BY"})}catch(__react_docgen_typescript_loader_error){}try{getAriaLabels.displayName="getAriaLabels",getAriaLabels.__docgenInfo={description:"",displayName:"getAriaLabels",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/generic/Table/index.tsx#getAriaLabels"]={docgenInfo:getAriaLabels.__docgenInfo,name:"getAriaLabels",path:"src/components/generic/Table/index.tsx#getAriaLabels"})}catch(__react_docgen_typescript_loader_error){}}}]);